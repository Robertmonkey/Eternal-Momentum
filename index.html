<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Eternal Momentum</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0, user-scalable=no"/>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div id="loading-screen">
      <div id="loading-progress-container">
          <div id="loading-progress-fill"></div>
      </div>
      <p id="loading-status-text">Initializing Systems...</p>
  </div>

  <div id="home-screen" style="display: none;">
    <video autoplay muted loop playsinline id="home-video-bg" preload="auto">
      <source src="./assets/home.mp4" type="video/mp4">
    </video>
    <div id="home-overlay">
      <h1 id="game-title">ETERNAL MOMENTUM</h1>
      <div id="home-actions">
        <button id="new-game-btn" class="home-btn" style="display: none;">AWAKEN</button>
        <button id="continue-game-btn" class="home-btn" style="display: none;">CONTINUE MOMENTUM</button>
        <button id="erase-game-btn" class="home-btn erase" style="display: none;">SEVER TIMELINE</button>
      </div>
    </div>
  </div>

  <canvas id="gameCanvas"></canvas>
  <div id="vignette"></div>
  <div id="unlock-notification"></div>

  <div id="gameOverMenu" class="modal-background">
      <h1>GAME OVER</h1>
      <div id="gameOverActions">
          <button id="restartStageBtn">Restart Stage</button>
          <button id="levelSelectMenuBtn">Stage Select</button>
      </div>
  </div>

  <div id="custom-confirm">
      <div id="custom-confirm-box" class="modal-background">
          <h2 id="custom-confirm-title"></h2>
          <p id="custom-confirm-text"></p>
          <div id="custom-confirm-actions">
              <button id="confirm-yes">Confirm</button>
              <button id="confirm-no" class="btn-modal-close">Cancel</button>
          </div>
      </div>
  </div>

  <div id="ui-container">
    <div id="status-effects-bar"></div>
    <div class="command-bar">
        <div class="ui-pod left-pod">
            <div id="ascension-bar-container">
                <div id="ascension-bar-fill"></div>
                <div id="ascension-bar-text">LVL 1</div>
            </div>
            <div id="ascension-points-display">AP: 0</div>
        </div>

        <div id="health-bar-container">
            <div id="shield-bar-overlay"></div>
            <div id="health-bar-value" class="health-high"></div>
            <div id="health-bar-text">100 / 100</div>
            <div id="health-bar-sheen"></div>
        </div>

        <div class="core-display">
            <div class="ability-cluster">
                <div class="ability-queue defensive">
                    <div class="queue-slot" id="q-def-1"></div>
                    <div class="queue-slot" id="q-def-2"></div>
                </div>
                <div class="abilities">
                    <div class="ability-slot" id="slot-def-0" data-tooltip-text="Defensive Power (Right-Click)"></div>
                    <div class="ability-slot main" id="slot-off-0" data-tooltip-text="Offensive Power (Left-Click)"></div>
                </div>
                <div class="ability-queue offensive">
                    <div class="queue-slot" id="q-off-1"></div>
                    <div class="queue-slot" id="q-off-2"></div>
                </div>
            </div>
        </div>

        <div class="ui-pod right-pod">
            <button id="ascensionBtn" title="Ascension Conduit">üí†</button>
            <button id="levelSelectBtn" title="Stage Select">üó∫Ô∏è</button>
            <button id="soundToggle">üîä</button>
        </div>
    </div>
  </div>
  
  <div id="bossBanner"></div>
  <div id="bossHpContainer"></div>

  <div id="levelSelectModal">
    <div id="modal-content" class="modal-background">
        <h2 class="modal-title">SELECT STAGE</h2>
        <div id="level-select-list-container">
            <div id="level-select-list">
                </div>
        </div>
        <div id="modal-actions">
            <button id="arenaBtn">Arena Mode</button>
            <button id="jumpToFrontierBtn">JUMP TO FRONTIER</button>
            <button id="closeLevelSelectBtn" class="btn-modal-close">Close</button>
        </div>
    </div>
  </div>
  
  <div id="ascensionGridModal">
    <div id="ascension-grid-container" class="modal-background">
        <div class="ascension-header">
            <h1>ASCENSION CONDUIT</h1>
            <div class="ap-display-header">
                <span>ASCENSION POINTS</span>
                <span id="ap-total-asc-grid">0</span>
            </div>
        </div>
        <div class="ascension-content">
        </div>
        <div class="ascension-footer">
            <button id="clearSaveBtn">ERASE TIMELINE</button>
            <button id="closeAscensionBtn" class="btn-modal-close">CLOSE</button>
        </div>
    </div>
  </div>
  
  <audio id="annihilatorBeamSound" src="./assets/annihilatorBeamSound.mp3" preload="auto"></audio>
  <audio id="architectBuild" src="./assets/architectBuild.mp3" preload="auto"></audio>
  <audio id="beamHumSound" src="./assets/beamHumSound.mp3" preload="auto" loop></audio>
  <audio id="bossDefeatSound" src="./assets/bossDefeatSound.mp3" preload="auto"></audio>
  <audio id="bossSpawnSound" src="./assets/bossSpawnSound.mp3" preload="auto"></audio>
  <audio id="chainSound" src="./assets/chainSound.mp3" preload="auto"></audio>
  <audio id="chargeDashSound" src="./assets/chargeDashSound.mp3" preload="auto"></audio>
  <audio id="chargeUpSound" src="./assets/chargeUpSound.mp3" preload="auto"></audio>
  <audio id="empDischarge" src="./assets/empDischarge.mp3" preload="auto"></audio>
  <audio id="finalBossPhaseSound" src="./assets/finalBossPhaseSound.mp3" preload="auto"></audio>
  <audio id="glitchSound" src="./assets/glitchSound.mp3" preload="auto"></audio>
  <audio id="gravitySound" src="./assets/gravitySound.mp3" preload="auto"></audio>
  <audio id="hitSound" src="./assets/hitSound.mp3" preload="auto"></audio>
  <audio id="magicDispelSound" src="./assets/magicDispelSound.mp3" preload="auto"></audio>
  <audio id="mirrorSwap" src="./assets/mirrorSwap.mp3" preload="auto"></audio>
  <audio id="phaseShiftSound" src="./assets/phaseShiftSound.mp3" preload="auto"></audio>
  <audio id="pickupSound" src="./assets/pickupSound.mp3" preload="auto"></audio>
  <audio id="powerSirenSound" src="./assets/powerSirenSound.mp3" preload="auto"></audio>
  <audio id="puppeteerConvert" src="./assets/puppeteerConvert.mp3" preload="auto"></audio>
  <audio id="reflectorOnHit" src="./assets/reflectorOnHit.mp3" preload="auto"></audio>
  <audio id="shieldBreak" src="./assets/shieldBreak.mp3" preload="auto"></audio>
  <audio id="shockwaveSound" src="./assets/shockwaveSound.mp3" preload="auto"></audio>
  <audio id="splitterOnDeath" src="./assets/splitterOnDeath.mp3" preload="auto"></audio>
  <audio id="stoneCrackingSound" src="./assets/stoneCrackingSound.mp3" preload="auto"></audio>
  <audio id="systemErrorSound" src="./assets/systemErrorSound.mp3" preload="auto"></audio>
  <audio id="talentError" src="./assets/talentError.mp3" preload="auto"></audio>
  <audio id="talentPurchase" src="./assets/talentPurchase.mp3" preload="auto"></audio>
  <audio id="uiClickSound" src="./assets/uiClickSound.mp3" preload="auto"></audio>
  <audio id="uiHoverSound" src="./assets/uiHoverSound.mp3" preload="auto"></audio>
  <audio id="uiModalClose" src="./assets/uiModalClose.mp3" preload="auto"></audio>
  <audio id="uiModalOpen" src="./assets/uiModalOpen.mp3" preload="auto"></audio>
  <audio id="vampireHeal" src="./assets/vampireHeal.mp3" preload="auto"></audio>

  <audio id="bgMusic_01" src="./assets/bgMusic_01.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_02" src="./assets/bgMusic_02.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_03" src="./assets/bgMusic_03.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_04" src="./assets/bgMusic_04.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_05" src="./assets/bgMusic_05.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_06" src="./assets/bgMusic_06.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_07" src="./assets/bgMusic_07.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_08" src="./assets/bgMusic_08.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_09" src="./assets/bgMusic_09.mp3" loop preload="auto"></audio>
  <audio id="bgMusic_10" src="./assets/bgMusic_10.mp3" loop preload="auto"></audio>
  
  <script type="module" src="./main.js"></script>
</body>
</html>
